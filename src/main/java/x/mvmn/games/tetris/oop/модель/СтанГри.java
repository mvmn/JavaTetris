package x.mvmn.games.tetris.oop.модель;

import x.mvmn.games.tetris.oop.модель.фігури.Фігура;

public class СтанГри {

    public static final int рядківДоНаступногоРівня = 5;
    protected int рівень = 0;
    protected int рахунок = 0;
    protected int поточнаКількістьРядківДоНаступногоРівня;
    protected ПоточнаФігура поточнаФігура;
    protected Фігура наступнаФігура;
    protected СтанПоляТетрісу станПоля = new СтанПоляТетрісу();

    public void скинутиСтан() {
        станПоля.скинути();
        поточнаФігура = null;
        наступнаФігура = null;
        рівень = 0;
        рахунок = 0;
        поточнаКількістьРядківДоНаступногоРівня = рядківДоНаступногоРівня;
    }

    public int рівень() {
        return рівень;
    }

    public void збільшитиРівень() {
        this.рівень++;

        рахунок += 100 * рівень;
        поточнаКількістьРядківДоНаступногоРівня = рядківДоНаступногоРівня;
    }

    public int рахунок() {
        return рахунок;
    }

    public void приЗаповненніРядків(int кількістьРядків) {
        if (кількістьРядків > 0) {
            this.рахунок += (рівень + 1) * 10 * кількістьРядків;
            поточнаКількістьРядківДоНаступногоРівня -= кількістьРядків;
            if (поточнаКількістьРядківДоНаступногоРівня < 1) {
                поточнаКількістьРядківДоНаступногоРівня += рядківДоНаступногоРівня;
                збільшитиРівень();
            }
        }
    }

    public ПоточнаФігура поточнаФігура() {
        return поточнаФігура;
    }

    public void поточнаФігура(ПоточнаФігура поточнаФігура) {
        this.поточнаФігура = поточнаФігура;
    }

    public Фігура наступнаФігура() {
        return наступнаФігура;
    }

    public void наступнаФігура(Фігура наступнаФігура) {
        this.наступнаФігура = наступнаФігура;
    }

    public СтанПоляТетрісу станПоля() {
        return станПоля;
    }

    public int рядківДоНаступногоРівня() {
        return поточнаКількістьРядківДоНаступногоРівня;
    }
}
